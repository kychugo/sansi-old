<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¥æ€ Sansi</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&family=Noto+Serif+TC:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

       body {
            /* --- ä¿®æ”¹éƒ¨åˆ†ï¼šæ‹¿æ‰åœ–ç‰‡è·¯å¾‘ï¼Œä¿ç•™å®šä½è¨­å®š --- */
            background-color: #E8E6E1; /* æš«æ™‚çš„åº•è‰² */
            background-image: none;    /* å…ˆè¨­ç‚ºç©ºï¼Œç­‰å¾… JS å¡«å…¥ */
            background-position: center;
            background-size: cover;
            background-attachment: fixed;
            background-repeat: no-repeat;
            /* ------------------------------------- */

            overflow: hidden;
            height: 100vh;
            width: 100vw;
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: "Noto Serif TC", serif;
        }

        body::before {
            content: "";
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
            opacity: 0.6; pointer-events: none; z-index: 0;
        }
        /* --- 1. é›»è…¦ç‰ˆ/é è¨­ --- */
        .title-container {
            position: absolute;
            top: 40%; 
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            display: flex;
            gap: 20px;
            pointer-events: none; 
        }

        .char {
            display: block;
            font-family: 'Zhi Mang Xing', cursive;
            color: #48585A; 
            font-size: clamp(80px, 25vw, 220px); 
            line-height: 1;
            white-space: nowrap;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            will-change: transform; 
        }

        .cta-text {
            position: absolute;
            top: 58%; 
            left: 50%; transform: translateX(-50%);
            font-size: 13px; color: #555;
            font-weight: 500;
            letter-spacing: 4px;
            opacity: 0; animation: fadeInText 0.8s ease-in forwards 0.2s; 
            z-index: 2; pointer-events: none; text-align: center;
            -webkit-font-smoothing: antialiased;
        }
        
        .cta-text::after {
            content: "â†“"; display: block; margin-top: 5px; font-size: 12px; opacity: 0.6;
        }

        .seal {
            position: absolute; 
            /* ä¿®æ”¹è™•ï¼šç”± 35% æ”¹ç‚º 39%ï¼Œè®“ç´…å°å‘ä¸Šç§»å‹•é è¿‘ç®­å˜´ */
            bottom: 29%; 
            left: 50%; transform: translateX(-50%);
            width: 40px; height: 40px;
            border: 2px solid #A84646; color: #A84646;
            display: flex; align-items: center; justify-content: center;
            font-size: 14px;
            font-weight: 700;
            font-family: "Noto Serif TC", serif; 
            opacity: 0; animation: fadeIn 1s ease-in forwards 0s; 
            z-index: 2; letter-spacing: 2px; writing-mode: vertical-rl;
            pointer-events: none;
            -webkit-font-smoothing: antialiased; 
        }

        /* --- 2. æ‰‹æ©Ÿç‰ˆå°ˆå±¬èª¿æ•´ (Max Width 768px) --- */
        @media (max-width: 768px) {
            .title-container {
                /* åŸæœ¬æ”¹å¤ªé«˜æ˜¯ 30%ï¼Œç¾åœ¨æ”¹ç‚º 35% (å¾€ä¸‹ç§»ä¸€é») */
                top: 37%; 
            }

            .cta-text {
                /* åŸæœ¬æ”¹å¤ªé«˜æ˜¯ 48%ï¼Œç¾åœ¨æ”¹ç‚º 53% (ä¿æŒç›¸å°è·é›¢å¾€ä¸‹ç§») */
                top: 57%; 
            }

                .seal {
        /* åŸæœ¬æ”¹å¤ªé«˜æ˜¯ 28%ï¼Œç¾åœ¨æ”¹ç‚º 23% (è®“å°ç« ä¹Ÿæ²ˆä¸‹ä¾†ä¸€é») */
        bottom: 31%; 
    }


            .char {
                /* å­—é«”å¤§å°ä¿æŒä¸è®Š */
                font-size: 34vw; 
            }
        }

        #overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #E8E6E1; opacity: 0; pointer-events: none;
            transition: opacity 0.8s ease-in-out; 
            z-index: 20;
        }

        /* çˆ†ç‚¸æ•ˆæœ CSS */
        .exploding .char {
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0;
            transform: scale(4) !important;
        }

        @keyframes fadeIn { to { opacity: 0.7; } }
        @keyframes fadeInText { to { opacity: 0.6; } }

        .copyright {
            position: fixed;
            bottom: 18px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            text-align: center;
            pointer-events: none;
            font-family: "Noto Serif TC", serif;
            color: #48585A;
            line-height: 1.8;
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeInText 1s ease-in forwards 0.6s;
            white-space: nowrap;
        }

        .copyright .copyright-main {
            font-size: 11px;
            font-weight: 500;
            opacity: 0.75;
        }

        .copyright .copyright-sub {
            font-size: 10px;
            opacity: 0.6;
        }

        .copyright .copyright-divider {
            width: 40px;
            height: 1px;
            background: #48585A;
            opacity: 0.3;
            margin: 4px auto;
        }
    </style>
</head>
<body>
    <div id="overlay"></div>
    
    <div class="title-container" id="titleContainer">
        <span class="char" id="char1">ç¥</span>
        <span class="char" id="char2">æ€</span>
    </div>

    <div class="cta-text">é»æ“Šå‰å¾€</div>
    <div class="seal" id="seal">ç¥æ€</div>

    <div class="copyright">
        <div class="copyright-main">Copyright Â© 2025 é™³å† å¥. All rights reserved</div>
        <div class="copyright-divider"></div>
        <div class="copyright-sub">é»ƒå­è¬™æ–¼2026/1/9æ–¼é™³å† å¥è€å¸«æˆæ¬Šä¸‹è¤‡è£½</div>
        <div class="copyright-sub">æ„Ÿè¬æˆæ¬Š ğŸ™</div>
    </div>

    <script>


// --- åœ–ç‰‡åŠ é€Ÿä»£ç¢¼ (æ”¾åœ¨ script æœ€å‰é¢) ---
        (function() {
            const imgName = 'å¼•å°é èƒŒæ™¯.png'; // ä½ çš„åœ–ç‰‡æª”å
            const request = indexedDB.open('SansiCache', 1);

            request.onupgradeneeded = e => e.target.result.createObjectStore('imgs');
            
            request.onsuccess = e => {
                const db = e.target.result;
                const tx = db.transaction('imgs', 'readonly');
                const store = tx.objectStore('imgs');
                const get = store.get(imgName);

                get.onsuccess = () => {
                    if (get.result) {
                        // æœ‰ç·©å­˜ï¼šç›´æ¥è®€å–ï¼Œé€Ÿåº¦æœ€å¿«
                        document.body.style.backgroundImage = `url(${URL.createObjectURL(get.result)})`;
                    } else {
                        // ç„¡ç·©å­˜ï¼šä¸‹è¼‰ä¸¦å­˜å…¥
                        fetch(imgName).then(r => r.blob()).then(blob => {
                            const tx2 = db.transaction('imgs', 'readwrite');
                            tx2.objectStore('imgs').put(blob, imgName);
                            document.body.style.backgroundImage = `url(${URL.createObjectURL(blob)})`;
                        });
                    }
                };
            };
        })();


        
           // --- æ–°å¢ï¼šå®šç¾©éŸ³æ•ˆèˆ‡é åŠ è¼‰ ---
        const clickSound = new Audio('å¼•å°é é»æ“Š.mp3');
        clickSound.preload = 'auto'; // å˜—è©¦é å…ˆä¸‹è¼‰éŸ³æª”
        const overlay = document.getElementById('overlay');
        const seal = document.getElementById('seal');
        const ctaText = document.querySelector('.cta-text');
        const char1 = document.getElementById('char1');
        const char2 = document.getElementById('char2');
        const chars = [char1, char2];

        // åˆå§‹åŒ–æ»‘é¼ ä½ç½®åœ¨ä¸­å¿ƒï¼Œé¿å…ä¸€é–‹å§‹æ²’æœ‰äº’å‹•
        let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
        let isExploding = false;
        let animationFrameId = null;

        const physics = [
            { x: 0, y: 0, rot: 0, targetX: 0, targetY: 0, targetRot: 0 },
            { x: 0, y: 0, rot: 0, targetX: 0, targetY: 0, targetRot: 0 }
        ];

        const updateMouse = (x, y) => { mouse.x = x; mouse.y = y; };

        // ç›£è½é›»è…¦æ»‘é¼ ç§»å‹•
        window.addEventListener('mousemove', (e) => updateMouse(e.clientX, e.clientY));
        
        // ç›£è½æ‰‹æ©Ÿè§¸æ§
        const handleTouch = (e) => {
            updateMouse(e.touches[0].clientX, e.touches[0].clientY);
        };
        window.addEventListener('touchmove', handleTouch, { passive: true });
        window.addEventListener('touchstart', handleTouch, { passive: true });

        // --- æ ¸å¿ƒä¿®å¾©ï¼šè™•ç†ã€Œä¸Šä¸€é ã€çš„ç‹€æ…‹é‡ç½® ---
        window.addEventListener('pageshow', (event) => {
            if (event.persisted) {
                resetPageAnimation();
            }
        });

        function resetPageAnimation() {
            isExploding = false;
            document.body.classList.remove('exploding');
            overlay.style.opacity = 0;
            seal.style.opacity = "";
            seal.style.transition = "";
            ctaText.style.opacity = "";
            ctaText.style.transition = "";
            
            cancelAnimationFrame(animationFrameId);
            animate();
        }

     function handleClick() {
            if(!isExploding) {
                // --- æ–°å¢ï¼šæ‰‹æ©Ÿéœ‡å‹•æ•ˆæœ ---
                // æª¢æŸ¥ç€è¦½å™¨æ˜¯å¦æ”¯æ´éœ‡å‹• API (ä¸»è¦å° Android æœ‰æ•ˆ)
                if (navigator.vibrate) {
                    navigator.vibrate(35); // éœ‡å‹• 15 æ¯«ç§’ (æ•¸å€¼è¶Šå°éœ‡å‹•è¶ŠçŸ­ä¿ƒï¼Œé¡ä¼¼è§¸è¦ºå›é¥‹)
                }
                // --- æ–°å¢ï¼šæ’­æ”¾éŸ³æ•ˆ ---
                clickSound.currentTime = 0; // ç¢ºä¿æ¯æ¬¡éƒ½å¾é ­é–‹å§‹æ’­æ”¾
                clickSound.play().catch(e => console.log("éŸ³æ•ˆæ’­æ”¾è¢«ç€è¦½å™¨é˜»æ“‹", e));
                // ---------------------

                isExploding = true;
                document.body.classList.add('exploding');
                
                seal.style.transition = "opacity 0.3s";
                seal.style.opacity = 0;
                ctaText.style.transition = "opacity 0.3s";
                ctaText.style.opacity = 0;
                
                setTimeout(() => {
                    overlay.style.opacity = 1; 
                    setTimeout(() => {
                        window.location.href = "index2.html"; 
                    }, 400); 
                }, 300); 
            }
        }

        window.addEventListener('click', handleClick);
        let isDragging = false;
        window.addEventListener('touchmove', () => isDragging = true);
        window.addEventListener('touchend', () => {
            if (!isDragging) handleClick();
            isDragging = false;
        });

        function animate() {
            if (isExploding) return;

            chars.forEach((char, index) => {
                const rect = char.getBoundingClientRect();
                const charCenterX = rect.left + rect.width / 2;
                const charCenterY = rect.top + rect.height / 2;

                const dx = mouse.x - charCenterX;
                const dy = mouse.y - charCenterY;
                const dist = Math.sqrt(dx * dx + dy * dy);
                
                // é€™è£¡ä¿ç•™äº†è¨­å®šï¼šé›»è…¦ç‰ˆ(>=600)åŠå¾‘ç‚º 400ï¼Œæ‰‹æ©Ÿç‰ˆ(<600)åŠå¾‘ç‚º 250
                const radius = window.innerWidth < 600 ? 250 : 400; 

                if (dist < radius) {
                    const force = (radius - dist) / radius;
                    const moveX = -(dx / dist) * force * 40; 
                    const moveY = -(dy / dist) * force * 40;
                    const rotate = dx * 0.04 * force;

                    physics[index].targetX = moveX;
                    physics[index].targetY = moveY;
                    physics[index].targetRot = rotate;
                } else {
                    physics[index].targetX = 0;
                    physics[index].targetY = 0;
                    physics[index].targetRot = 0;
                }

                const ease = 0.08; 
                // ä¿®å¾©ï¼šè£œå®Œè¢«æˆªæ–·çš„ç‰©ç†è¨ˆç®—é‚è¼¯
                physics[index].x += (physics[index].targetX - physics[index].x) * ease;
                physics[index].y += (physics[index].targetY - physics[index].y) * ease;
                physics[index].rot += (physics[index].targetRot - physics[index].rot) * ease;

                // æ‡‰ç”¨è®Šå½¢
                char.style.transform = `translate(${physics[index].x}px, ${physics[index].y}px) rotate(${physics[index].rot}deg)`;
            });

            animationFrameId = requestAnimationFrame(animate);
        }

        // å•Ÿå‹•å‹•ç•«
        animate();
    </script>
</body>
</html>
